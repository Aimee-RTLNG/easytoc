(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"12LA":function(e,t,a){"use strict";a.r(t);var n,l=a("bUC5"),r=a("vAM1"),i=!0;function o(e){$("#generated-menu").attr("class","theme-"+e.theme),$("#menu-creator-title-display").is(":checked")&&$("#menu-creator-title-display").click(),$("#menu-creator-link-display").is(":checked")&&$("#menu-creator-link-display").click(),$("#full-menu #menubar-easytoc").html(""),e.title?($("#menu-creator-title").val(e.title),$("#menu-creator-title-display").click()):$("#menu-creator-title").val(""),e.logo?($("#menu-creator-link").val(e.logo),$("#menu-creator-link-display").click()):$("#menu-creator-link").val("");var t=e.items;Object.keys(t).forEach((function(e){var a=t[e];"link"==a.type?(Object(r.addLink)(a.type),$("#full-menu #menubar-easytoc").find("li").last().find("span").text(a.name),$("#full-menu #menubar-easytoc").find("li").last().find("a").attr("href",a.url)):"sub_menu"==a.type?(Object(r.addLink)(a.type),$("#full-menu #menubar-easytoc").find("li").last().find("span").text(a.name)):"sub_link"==a.type&&($("#full-menu #menubar-easytoc").find("li").last().find("span").focus(),Object(r.addLink)(a.type),$("#full-menu #menubar-easytoc").find("li").last().find("span").text(a.name),$("#full-menu #menubar-easytoc").find("li").last().find("a").attr("href",a.url))})),Object(r.getOldContent)(),i?(n="en"==l.lang?"Data imported":"Données récupérées",Object(l.alertMsg)(n,"success")):(n="en"==l.lang?"Error while loading data":"Erreur dans l'importation des données",Object(l.alertMsg)(n,"error")),$(".content-editable-selected").last()&&$(".content-editable-selected").last().click()}$("#import-data").on("click",(function(){if(/^([a-zA-Z0-9\s_\\.\-:])+(.csv)$/.test($("#imported_data").val().toLowerCase())){if("undefined"!=typeof FileReader){var e={type:"",title:"",logo:"",theme:"",items:[]};(t=new FileReader).onload=function(t){for(var a=t.target.result.split("\r\n"),n=1;n<a.length-1;n++){var l=a[n].split(";");1==n?(e.type=l[0],e.title=l[1],e.logo=l[2],e.theme=l[3]):n>1&&l[0]&&e.items.push({type:l[0],name:l[1],url:l[2]})}o(e)},t.readAsText($("#imported_data")[0].files[0])}}else if(/^([a-zA-Z0-9\s_\\.\-:])+(.json)$/.test($("#imported_data").val().toLowerCase())){var t;if("undefined"!=typeof FileReader)(t=new FileReader).onload=function(e){var t=e.target.result;try{o(t=JSON.parse(t)),i=!0}catch(e){i=!1,n="en"==l.lang?"Your file has an error : please try again.":"Votre fichier contient une erreur. Merci de réessayer.",Object(l.alertMsg)(n,"error")}},t.readAsText($("#imported_data")[0].files[0])}else n="en"==l.lang?"Incorrect file format : only JSON and CSV allowed;":"Format de fichier invalide : fichiers JSON et CSV seulement.",Object(l.alertMsg)(n,"error")})),$("#generate-example").on("click",(function(){$.getJSON(baseUrl+"/templates/menu_template.json").done((function(e){o(e)})).fail((function(e,t,a){console.log(t),console.log(a),n="en"==l.lang?"Error while loading : the example could not be generated":"Erreur dans le chargement de l'exemple",Object(l.alertMsg)(n,"error")}))}))},6:function(e,t,a){e.exports=a("12LA")}},[[6,0,1]]]);